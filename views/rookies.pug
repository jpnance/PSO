extends layout.pug

block styles
	link(rel='stylesheet' href='/css/positions.css')
	style.
		.header-row {
			margin-bottom: 1rem;
		}
		.header-row h1 {
			margin: 0 0 0.5rem 0;
		}
		.season-nav {
			display: flex;
			flex-wrap: wrap;
			gap: 0.25rem;
			align-items: center;
		}
		.older-select {
			padding: 0.25rem 0.5rem;
			font-size: 0.875rem;
			border: 1px solid #6c757d;
			border-radius: 0.2rem;
			background: white;
			color: #6c757d;
			cursor: pointer;
			height: 31px;
		}
		.older-select:focus {
			outline: none;
			border-color: #007bff;
		}
		.older-select.active {
			background: #007bff;
			border-color: #007bff;
			color: white;
		}
		.salary-table {
			font-size: 0.9rem;
			width: auto;
			margin: 0;
		}
		.salary-table th,
		.salary-table td {
			text-align: center;
			padding: 0.5rem 1rem;
			width: 70px;
		}
		.salary-table th.round-col,
		.salary-table td.round-col {
			background: #343a40;
			color: white;
			font-weight: 600;
		}
		.salary-table tbody tr:nth-child(odd) td:not(.round-col) {
			background-color: rgba(0,0,0,0.02);
		}
		.salary-table tbody tr:hover td:not(.round-col) {
			background-color: #e9ecef;
		}
		@media (max-width: 576px) {
			.salary-table {
				font-size: 0.8rem;
			}
			.salary-table th, .salary-table td {
				padding: 0.3rem 0.25rem;
			}
		}

block content
	div.container-fluid.py-3
		div.header-row
			h1 Rookie Salaries
			div.season-nav
				- var isOlderSeason = olderSeasons.indexOf(season) !== -1
				select.older-select(class=(isOlderSeason ? 'active' : '') onchange='if(this.value) window.location.href="?season="+this.value')
					option(value='' selected=!isOlderSeason) Older
					each s in olderSeasons
						option(value=s selected=(s === season))= s
				each s in quickSeasons
					a.btn.btn-sm(href='?season=' + s class=(s === season ? 'btn-primary' : 'btn-outline-secondary'))= s

		- var positionSalaries = salaries[season]
		table.table.table-bordered.salary-table
			thead
				tr
					th.round-col Round
					each position in positionOrder
						th(class='pos-' + position) #{position}
			tbody
				each round in [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
					tr
						td.round-col #{round}
						each position in positionOrder
							td $#{computeSalary(parseInt(season), positionSalaries[position], round)}

block scripts
	script.
		// Navigation is handled via URL - no client-side switching needed
