extends layout.pug

block styles
	link(rel='stylesheet' href='/css/positions.css')
	style.
		.header-row {
			margin-bottom: 1rem;
		}
		.header-row h1 {
			margin: 0 0 0.5rem 0;
		}
		.season-nav {
			display: flex;
			flex-wrap: wrap;
			gap: 0.25rem;
			align-items: center;
		}
		.older-select {
			padding: 0.25rem 0.5rem;
			font-size: 0.875rem;
			border: 1px solid #6c757d;
			border-radius: 0.2rem;
			background: white;
			color: #6c757d;
			cursor: pointer;
			height: 31px;
		}
		.older-select:focus {
			outline: none;
			border-color: #007bff;
		}
		.older-select.active {
			background: #007bff;
			border-color: #007bff;
			color: white;
		}
		.salary-table {
			font-size: 0.9rem;
			width: auto;
			margin: 0;
		}
		.salary-table th,
		.salary-table td {
			text-align: center;
			padding: 0.5rem 1rem;
			width: 70px;
		}
		.salary-table th.round-col,
		.salary-table td.round-col {
			background: #343a40;
			color: white;
			font-weight: 600;
		}
		/* Position-colored cells with striping */
		.salary-table td.pos-QB { background-color: #D7EBFF; }
		.salary-table td.pos-RB { background-color: #F0FFFF; }
		.salary-table td.pos-WR { background-color: #FAFAD2; }
		.salary-table td.pos-TE { background-color: #DCFFDC; }
		.salary-table td.pos-DL,
		.salary-table td.pos-LB,
		.salary-table td.pos-DB { background-color: #FFF5EE; }
		.salary-table td.pos-K { background-color: #F5F5F5; }
		
		/* Darken odd rows slightly for stripe effect */
		.salary-table tr.odd-row td.pos-QB { background-color: #c5dffa; }
		.salary-table tr.odd-row td.pos-RB { background-color: #ddf5f5; }
		.salary-table tr.odd-row td.pos-WR { background-color: #f0eabc; }
		.salary-table tr.odd-row td.pos-TE { background-color: #c8f5c8; }
		.salary-table tr.odd-row td.pos-DL,
		.salary-table tr.odd-row td.pos-LB,
		.salary-table tr.odd-row td.pos-DB { background-color: #f5e6dc; }
		.salary-table tr.odd-row td.pos-K { background-color: #e8e8e8; }
		
		.salary-table tbody tr:hover td:not(.round-col) {
			filter: brightness(0.92);
		}
		@media (max-width: 576px) {
			.salary-table {
				font-size: 0.8rem;
			}
			.salary-table th, .salary-table td {
				padding: 0.3rem 0.25rem;
			}
		}

block content
	div.container-fluid.py-3
		div.header-row
			h1 #{season} Rookie Salaries
			div.season-nav
				- var isOlderSeason = olderSeasons.indexOf(season) !== -1
				select.older-select(class=(isOlderSeason ? 'active' : '') onchange='if(this.value) window.location.href="?season="+this.value')
					option(value='' selected=!isOlderSeason) Older
					each s in olderSeasons
						option(value=s selected=(s === season))= s
				each s in quickSeasons
					a.btn.btn-sm(href='?season=' + s class=(s === season ? 'btn-primary' : 'btn-outline-secondary'))= s

		- var positionSalaries = salaries[season]
		table.table.table-bordered.salary-table
			thead
				tr
					th.round-col Round
					each position in positionOrder
						th(class='pos-' + position) #{position}
			tbody
				each round in [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
					tr(class=(round % 2 === 0 ? 'even-row' : 'odd-row'))
						td.round-col #{round}
						each position in positionOrder
							td(class='pos-' + position) $#{computeSalary(parseInt(season), positionSalaries[position], round)}

block scripts
	script.
		// Navigation is handled via URL - no client-side switching needed
