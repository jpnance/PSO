doctype html
html
	head
		meta(charset='utf-8')
		meta(name='viewport' content='width=device-width, initial-scale=1, shrink-to-fit=no')

		link(rel='stylesheet' href='/css/bootstrap.min.css')
		link(rel='stylesheet' href='https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css')
		block styles

		script(src='/js/jquery.min.js')
		script(src='/js/bootstrap.min.js')

		title #{pageTitle || 'PSO'}

	body
		nav.navbar.navbar-expand-md.navbar-dark.bg-dark.sticky-top.mb-3
			div.container-fluid
				a.navbar-brand(href='/league') PSO
				button.navbar-toggler(type='button' data-toggle='collapse' data-target='#navbarNav' aria-controls='navbarNav' aria-expanded='false' aria-label='Toggle navigation')
					span.navbar-toggler-icon
				div#navbarNav.collapse.navbar-collapse
					ul.navbar-nav.mr-auto
						li.nav-item(class=(activePage === 'league' ? 'active' : ''))
							a.nav-link(href='/league')
								i.fa.fa-trophy.mr-1
								| League
						li.nav-item(class=(activePage === 'draft' ? 'active' : ''))
							a.nav-link(href='/draft')
								i.fa.fa-list-ol.mr-1
								| Draft
						li.nav-item(class=(activePage === 'calendar' ? 'active' : ''))
							a.nav-link(href='/calendar')
								i.fa.fa-calendar.mr-1
								| Calendar
						li.nav-item(class=(activePage === 'rookies' ? 'active' : ''))
							a.nav-link(href='/rookies')
								i.fa.fa-graduation-cap.mr-1
								| Rookies
						li.nav-item.dropdown(class=(activePage === 'trades' || activePage === 'propose' ? 'active' : ''))
							a.nav-link.dropdown-toggle(href='#' id='tradesDropdown' role='button' data-toggle='dropdown' aria-haspopup='true' aria-expanded='false')
								i.fa.fa-exchange.mr-1
								| Trades
							div.dropdown-menu(aria-labelledby='tradesDropdown')
								a.dropdown-item(href='/trades')
									i.fa.fa-history.mr-2
									| Trade History
								a.dropdown-item(href='/propose')
									i.fa.fa-plus.mr-2
									| Trade Machine
					ul.navbar-nav
						if user
							li.nav-item(class=(activePage === 'admin' ? 'active' : ''))
								a.nav-link(href='/admin')
									i.fa.fa-cog.mr-1
									| Admin
							li.nav-item.dropdown
								a.nav-link.dropdown-toggle(href='#' id='userDropdown' role='button' data-toggle='dropdown' aria-haspopup='true' aria-expanded='false')
									i.fa.fa-user.mr-1
									| #{user.name}
								div.dropdown-menu.dropdown-menu-right(aria-labelledby='userDropdown')
									a.dropdown-item(href='/logout')
										i.fa.fa-sign-out.mr-2
										| Log Out (This Device)
									a.dropdown-item(href='/logout/all')
										i.fa.fa-sign-out.mr-2
										| Log Out (All Devices)
						else
							li.nav-item
							a.nav-link(href='/login')
								i.fa.fa-sign-in.mr-1
								| Log In

		if banner
			div.container-fluid
				div.alert.mb-0.rounded-0.text-center(class='alert-' + bannerStyle)
					if bannerStyle === 'danger'
						i.fa.fa-exclamation-circle.mr-2
					else if bannerStyle === 'warning'
						i.fa.fa-exclamation-triangle.mr-2
					else
						i.fa.fa-info-circle.mr-2
					= banner

		block content

		block scripts
